plugins {
    id "org.jetbrains.kotlin.jvm" version "1.3.21"
    id "io.qameta.allure" version "2.7.0"
}

repositories {
    mavenCentral()
}

allure {
    version = "2.9.0"
    autoconfigure = true
    aspectjweaver = true
    allureJavaVersion = "2.9.0"
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    implementation "org.seleniumhq.selenium:selenium-java:3.14.0"
    implementation "io.qameta.allure:allure-junit4:2.9.0"
    implementation "ru.yandex.qatools.htmlelements:htmlelements-java:1.20.0"
    implementation "ru.yandex.qatools.ashot:ashot:1.5.4"

    testImplementation "junit:junit:4.12"
    testImplementation "io.rest-assured:rest-assured:3.3.0"
}

test {
    ["baseUrl", "login", "password", "seleniumHub", "browser"].each {
        if (project.hasProperty(it)) systemProperty it, project[it]
    }
    finalizedBy "allureReport"
}
